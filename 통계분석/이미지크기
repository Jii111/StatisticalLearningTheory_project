# 이미지 크기
import os
import cv2
import matplotlib.pyplot as plt
import numpy as np

def image_size_eda(image_folder):
    # 이미지 폴더 내의 모든 이미지 파일 가져오기
    img_files = [f for f in os.listdir(image_folder) if f.endswith(('.jpg', '.jpeg', '.png', '.gif'))]

    # 이미지 크기를 저장할 리스트 초기화
    image_sizes = []

    # 각 이미지 파일에 대해 크기 가져오기
    for img_file in img_files:
        img_path = os.path.join(image_folder, img_file)
        img = cv2.imread(img_path)
        if img is not None:
            height, width, _ = img.shape
            image_sizes.append((width, height))

    # 이미지 크기를 NumPy 배열로 변환
    image_sizes = np.array(image_sizes)

    # 이미지 크기 통계 정보 출력
    print("Image Size Statistics:")
    print(f"Minimum Width: {image_sizes[:, 0].min()} pixels")
    print(f"Maximum Width: {image_sizes[:, 0].max()} pixels")
    print(f"Minimum Height: {image_sizes[:, 1].min()} pixels")
    print(f"Maximum Height: {image_sizes[:, 1].max()} pixels")

    # 이미지 크기를 히스토그램으로 시각화
# title 이름 train, test, valid마다 바꾸기
    plt.figure(figsize=(12, 6))
    plt.subplot(1, 2, 1)
    plt.hist(image_sizes[:, 0], bins=30, color='blue', alpha=0.7)
    plt.title('train Image Width Distribution')
    plt.xlabel('Width (pixels)')
    plt.ylabel('Frequency')
# title 이름 train, test, valid마다 바꾸기
    plt.subplot(1, 2, 2)
    plt.hist(image_sizes[:, 1], bins=30, color='green', alpha=0.7)
    plt.title('train Image Height Distribution')
    plt.xlabel('Height (pixels)')
    plt.ylabel('Frequency')

    plt.tight_layout()
    plt.show()

# 이미지가 있는 폴더 경로 넣기 (train, test, valid 할 때마다 바꿔 넣으면 돼요)
image_folder_path = '/content/drive/MyDrive/train/train'
image_size_eda(image_folder_path)
